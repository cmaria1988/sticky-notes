{"ast":null,"code":"import React,{Component}from\"react\";import Header from\"./Header\";import NotesList from\"./NotesList\";class App extends Component{constructor(){super(...arguments);this.state={notes:[],searchText:\"\"};this.addNote=()=>{const newNote={id:Date.now(),title:\"\",description:\"\",doesMatchSearch:true};const newNotes=[newNote,...this.state.notes];this.setState({notes:newNotes});};this.onType=(editMeId,updatedKey,updatedValue)=>{//editMeId == id of the note that is edited\n//updatedKey == title of description field\n//updatedValue == value of the title or description\nconst updatedNotes=this.state.notes.map(note=>{if(note.id!==editMeId){return note;}else{if(updatedKey===\"title\"){note.title=updatedValue;return note;}else{note.description=updatedValue;return note;}}});this.setState({notes:updatedNotes});};this.onSearch=text=>{/* toggle the doesMatchSearch boolean value of each sticky\n    note when the user types in the search field.\n    set the doesMatchSearch value to true for a sticky note if\n    it's title or description matches the search string. */const newSearchText=text.toLowerCase();const updatedNotes=this.state.notes.map(note=>{if(!newSearchText){/* If the search field is empty, then\n      we set the doesMatchSearch value for every note to true. */note.doesMatchSearch=true;return note;}else{const title=note.title.toLowerCase();const description=note.description.toLowerCase();const titleMatch=title.includes(newSearchText);const descriptionMatch=description.includes(newSearchText);const hasMatch=titleMatch||descriptionMatch;note.doesMatchSearch=hasMatch;return note;}});this.setState({searchText:newSearchText,notes:updatedNotes});};this.removeNote=noteId=>{const notIdMatch=note=>note.id!==noteId;const updateNotes=this.state.notes.filter(notIdMatch);this.setState({notes:updateNotes});};}componentDidUpdate(){/* after each render, save notes data to local storage */const stingifiedNotes=JSON.stringify(this.state.notes);localStorage.setItem(\"savedNotes\",stingifiedNotes);}componentDidMount(){/* after rendering for the first time, read saved\n    notes data from local storage and pass that data\n    to component state if it exists */const stringifiedNotes=localStorage.getItem(\"savedNotes\");if(stringifiedNotes){const savedNotes=JSON.parse(stringifiedNotes);this.setState({notes:savedNotes});}}render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{searchText:this.state.searchText,addNote:this.addNote,onSearch:this.onSearch}),/*#__PURE__*/React.createElement(NotesList,{notes:this.state.notes,onType:this.onType,removeNote:this.removeNote}));}}export default App;","map":{"version":3,"names":["React","Component","Header","NotesList","App","constructor","arguments","state","notes","searchText","addNote","newNote","id","Date","now","title","description","doesMatchSearch","newNotes","setState","onType","editMeId","updatedKey","updatedValue","updatedNotes","map","note","onSearch","text","newSearchText","toLowerCase","titleMatch","includes","descriptionMatch","hasMatch","removeNote","noteId","notIdMatch","updateNotes","filter","componentDidUpdate","stingifiedNotes","JSON","stringify","localStorage","setItem","componentDidMount","stringifiedNotes","getItem","savedNotes","parse","render","createElement"],"sources":["C:/laragon/www/react/sticky-notes/src/App.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"./Header\";\nimport NotesList from \"./NotesList\";\n\nclass App extends Component {\n  state = {\n    notes: [],\n    searchText: \"\",\n  };\n  addNote = () => {\n    const newNote = {\n      id: Date.now(),\n      title: \"\",\n      description: \"\",\n      doesMatchSearch: true,\n    };\n    const newNotes = [newNote, ...this.state.notes];\n    this.setState({ notes: newNotes });\n  };\n\n  onType = (editMeId, updatedKey, updatedValue) => {\n    //editMeId == id of the note that is edited\n    //updatedKey == title of description field\n    //updatedValue == value of the title or description\n    const updatedNotes = this.state.notes.map((note) => {\n      if (note.id !== editMeId) {\n        return note;\n      } else {\n        if (updatedKey === \"title\") {\n          note.title = updatedValue;\n          return note;\n        } else {\n          note.description = updatedValue;\n          return note;\n        }\n      }\n    });\n    this.setState({ notes: updatedNotes });\n  };\n\n  onSearch = (text) => {\n    /* toggle the doesMatchSearch boolean value of each sticky\n    note when the user types in the search field.\n    set the doesMatchSearch value to true for a sticky note if\n    it's title or description matches the search string. */\n    const newSearchText = text.toLowerCase();\n    const updatedNotes = this.state.notes.map((note) => {\n      if (!newSearchText) {\n        /* If the search field is empty, then\n      we set the doesMatchSearch value for every note to true. */\n        note.doesMatchSearch = true;\n        return note;\n      } else {\n        const title = note.title.toLowerCase();\n        const description = note.description.toLowerCase();\n        const titleMatch = title.includes(newSearchText);\n        const descriptionMatch = description.includes(newSearchText);\n        const hasMatch = titleMatch || descriptionMatch;\n        note.doesMatchSearch = hasMatch;\n        return note;\n      }\n    });\n    this.setState({\n      searchText: newSearchText,\n      notes: updatedNotes,\n    });\n  };\n\n  removeNote = (noteId) => {\n    const notIdMatch = (note) => note.id !== noteId;\n    const updateNotes = this.state.notes.filter(notIdMatch);\n    this.setState({ notes: updateNotes });\n  };\n\n  componentDidUpdate() {\n    /* after each render, save notes data to local storage */\n    const stingifiedNotes = JSON.stringify(this.state.notes);\n    localStorage.setItem(\"savedNotes\", stingifiedNotes);\n  }\n\n  componentDidMount() {\n    /* after rendering for the first time, read saved\n    notes data from local storage and pass that data\n    to component state if it exists */\n    const stringifiedNotes = localStorage.getItem(\"savedNotes\");\n    if (stringifiedNotes) {\n      const savedNotes = JSON.parse(stringifiedNotes);\n      this.setState({ notes: savedNotes });\n    }\n  }\n  render() {\n    return (\n      <div>\n        <Header\n          searchText={this.state.searchText}\n          addNote={this.addNote}\n          onSearch={this.onSearch}\n        />\n        <NotesList\n          notes={this.state.notes}\n          onType={this.onType}\n          removeNote={this.removeNote}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}